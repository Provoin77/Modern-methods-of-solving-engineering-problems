# Task3 — Онтология «слябы»: классификация рисковых слябов (Protege + SWRL)

## Краткое описание

Создана русскоязычная онтология предметной области непрерывного литья слябов, предназначенная для классификации стальных слябов на основе технологического маршрута и информации о дефектах.  
Онтология описывает слябы, технологические маршруты, операции, оборудование и дефекты, а также включает **транзитивное** свойство для включения объектов в маршрут и **функциональные** свойства для задания однозначного маршрута и основного дефекта сляба.

Поверх онтологии реализовано SWRL-правило импликации, которое средствами логического вычислителя (Drools + reasoner) автоматически относит слябы к классу `РисковыйСляб` при выполнении заданных условий.  
Онтология разработана в **Protege 5.6.7** и экспортирована в **Turtle (.ttl)**.

## Критерии

- **Базовая предметная область:** производство стальных слябов и их дефектов.
- **Цель классификации:** отнесение сляба к классу `РисковыйСляб` при наличии критичного оборудования в маршруте и критичного дефекта.
- **Типы отношений (≥2):**
  - Объектные свойства: `произведён_по_маршруту`, `включает_объект`, `имеет_основной_дефект`.
  - Используются характеристики **Functional** и **Transitive**.
- **Сущности (для проверки):** `Сляб_01`, `Сляб_02`, `Маршрут_1`, `Операция_Разливка`, `Кристаллизатор_1`, `Дефект_ГлубокаяТрещина`, `Дефект_ПоверхностныйСкол`.

## Структура онтологии

### Классы

- `Сляб`
- `ТехнологическийМаршрут`
- `ТехнологическийОбъект`
- `Операция ⊑ ТехнологическийОбъект`
- `Оборудование ⊑ ТехнологическийОбъект`
- `КритичноеОборудование ⊑ Оборудование`
- `Дефект`
- `КритичныйДефект ⊑ Дефект`
- `РисковыйСляб ⊑ Сляб`

### Объектные свойства

- `произведён_по_маршруту : Сляб → ТехнологическийМаршрут` — **Functional**  
  (каждый сляб имеет один основной маршрут производства).

- `включает_объект : ТехнологическийОбъект → ТехнологическийОбъект` — **Transitive**  
  (маршрут включает операции, операции включают оборудование; транзитивность позволяет выводить, что маршрут включает оборудование).

- `имеет_основной_дефект : Сляб → Дефект` — **Functional**  
  (у сляба фиксируется один основной дефект для целей классификации).

### Классовые ограничения (аксиомы)

- `Операция ⊑ ТехнологическийОбъект`
- `Оборудование ⊑ ТехнологическийОбъект`
- `КритичноеОборудование ⊑ Оборудование`
- `КритичныйДефект ⊑ Дефект`
- `РисковыйСляб ⊑ Сляб`

(Дополнительные ограничительные аксиомы могут быть добавлены при развитии онтологии.)

### Индивиды (для проверки работы SWRL)

**Технологический маршрут и объекты:**

- `Маршрут_1 : ТехнологическийМаршрут`
- `Операция_Разливка : Операция`
- `Кристаллизатор_1 : Оборудование, КритичноеОборудование`

**Дефекты:**

- `Дефект_ГлубокаяТрещина : Дефект, КритичныйДефект`
- `Дефект_ПоверхностныйСкол : Дефект`

**Слябы:**

- `Сляб_01 : Сляб`
- `Сляб_02 : Сляб`

### Связи между индивидами

**Структура маршрута (транзитивная цепочка):**

- `Маршрут_1 включает_объект Операция_Разливка`
- `Операция_Разливка включает_объект Кристаллизатор_1`

За счёт **Transitive** у `включает_объект` reasoner выводит:  
`Маршрут_1 включает_объект Кристаллизатор_1`.

**Слябы и маршруты:**

- `Сляб_01 произведён_по_маршруту Маршрут_1`
- `Сляб_02 произведён_по_маршруту Маршрут_1`

**Слябы и дефекты:**

- `Сляб_01 имеет_основной_дефект Дефект_ГлубокаяТрещина`
- `Сляб_02 имеет_основной_дефект Дефект_ПоверхностныйСкол`

## SWRL-правило классификации

Для реализации содержательно значимой классификации введено правило на языке SWRL, которое определяет, что сляб является рисковым, если:

- он произведён по маршруту, который (в транзитивном смысле) включает критичное оборудование;
- у сляба есть основной дефект, являющийся критичным.

Правило в нотации SWRL:

```text
Сляб(?x) ^ 
произведён_по_маршруту(?x, ?r) ^ 
включает_объект(?r, ?o) ^ 
КритичноеОборудование(?o) ^ 
имеет_основной_дефект(?x, ?d) ^ 
КритичныйДефект(?d) 
-> РисковыйСляб(?x)
```

При выполнении этого правила reasoner автоматически относит индивид `Сляб_01` к классу `РисковыйСляб`, а `Сляб_02` — нет (из-за некритичного дефекта).

## Как было сделано в Protege (кратко)

1. **Classes:** созданы классы `Сляб`, `ТехнологическийМаршрут`, `ТехнологическийОбъект`, `Операция`, `Оборудование`, `КритичноеОборудование`, `Дефект`, `КритичныйДефект`, `РисковыйСляб`; настроены отношения подклассов согласно структуре, указанной выше.
2. **Object properties:** созданы свойства:
   - `произведён_по_маршруту (Сляб → ТехнологическийМаршрут)` с характеристикой **Functional**;
   - `включает_объект (ТехнологическийОбъект → ТехнологическийОбъект)` с характеристикой **Transitive**;
   - `имеет_основной_дефект (Сляб → Дефект)` с характеристикой **Functional**.
3. **Individuals:** добавлены индивиды `Маршрут_1`, `Операция_Разливка`, `Кристаллизатор_1`, `Дефект_ГлубокаяТрещина`, `Дефект_ПоверхностныйСкол`, `Сляб_01`, `Сляб_02` с указанием типов и объектных связей через `включает_объект`, `произведён_по_маршруту`, `имеет_основной_дефект`.
4. **Reasoner (базовая проверка):** запущен reasoner (HermiT / Pellet); проверено, что транзитивность `включает_объект` даёт вывод `Маршрут_1 включает_объект Кристаллизатор_1`.
5. **SWRLTab:** включена вкладка SWRLTab, создано правило `Правило_РисковыйСляб` в виде импликации SWRL, как указано выше.
6. **Запуск SWRL:** выполнена трансляция OWL+SWRL → Drools, затем **Run Drools**, после чего reasoner синхронизирован.
7. **Проверка вывода:** во вкладке **Individuals** для `Сляб_01` в **Inferred Types** появился класс `РисковыйСляб`; для `Сляб_02` — нет.
8. **Экспорт:** онтология без правил и онтология с SWRL-правилом экспортированы в формате **Turtle (.ttl)**.

## Файлы

- `task3_ontology_base.ttl` — экспорт онтологии без SWRL-правил (OWL + транзитивные и функциональные свойства).
- `task3_ontology_swrl.ttl` — экспорт онтологии с добавленным SWRL-правилом классификации `РисковыйСляб`.
- `README.md` — этот файл с описанием.

## Экспорт / повторная сборка

- Открыть проект в **Protege** → при необходимости отредактировать классы, свойства, индивиды или SWRL-правила →  
  **File → Save as… → Turtle Syntax (.ttl)** для получения актуальной версии `task3_ontology_base.ttl` и `task3_ontology_swrl.ttl`.
- При необходимости допустимо править `.ttl` вручную в текстовом редакторе, соблюдая синтаксис Turtle, однако рекомендуется основное редактирование выполнять через Protege.
